<!DOCTYPE html>
<!-- saved from url=(0390)https://giscus.app/zh-CN/widget?origin=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F&session=&theme=light&reactionsEnabled=0&emitMetadata=0&inputPosition=bottom&repo=labuladong%2Ffucking-algorithm&repoId=MDEwOlJlcG9zaXRvcnkyNDE1NzYyNzA%3D&category=comment&categoryId=DIC_kwDODmYpTs4CQ1I4&strict=0&description=&backLink=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F&number=1012 -->
<html dir="ltr" lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width"><!--<base target="_top">--><base href="." target="_top"><title>giscus</title><meta name="next-head-count" content="4"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@laymonage"><link rel="icon" href="https://giscus.app/favicon.ico"><link rel="preconnect" href="https://api.github.com/"><link rel="preconnect" href="https://avatars3.githubusercontent.com/"><link rel="apple-touch-icon" sizes="180x180" href="https://giscus.app/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://giscus.app/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://giscus.app/favicon-16x16.png"><meta name="description" content="A comments widget built on GitHub Discussions."><meta property="og:description" content="A comments widget built on GitHub Discussions."><meta property="og:title" content="giscus"><meta property="og:image" content="https://opengraph.githubassets.com/4f866d5b634e7cd5422af77f8dbfb6d48dd288b7c5c18326544c1973210320ed/giscus/giscus"><meta name="twitter:title" content="giscus"><meta name="twitter:description" content="A comments widget built on GitHub Discussions."><meta name="twitter:image" content="https://opengraph.githubassets.com/4f866d5b634e7cd5422af77f8dbfb6d48dd288b7c5c18326544c1973210320ed/giscus/giscus"><link rel="manifest" href="https://giscus.app/site.webmanifest"><meta name="next-font-preconnect"><link rel="preload" href="./45a1ba1246644750.css" as="style"><link rel="stylesheet" href="./45a1ba1246644750.css" data-n-g=""><noscript data-n-css=""></noscript><script defer="" nomodule="" src="./polyfills-c67a75d1b6f99dc8.js.下载"></script><script src="./webpack-228119e375490259.js.下载" defer=""></script><script src="./framework-cd648529b0242093.js.下载" defer=""></script><script src="./main-32751933ad88cbc5.js.下载" defer=""></script><script src="./_app-4dfab959a71b46ff.js.下载" defer=""></script><script src="./0e226fb0-f1f92882f082de97.js.下载" defer=""></script><script src="./555-3eb4bad8bf22c7ea.js.下载" defer=""></script><script src="./251-7d86de1de1736e46.js.下载" defer=""></script><script src="./widget-f6f5bf9563ebce33.js.下载" defer=""></script><script src="./_buildManifest.js.下载" defer=""></script><script src="./_ssgManifest.js.下载" defer=""></script><link id="giscus-theme" rel="stylesheet" crossorigin="anonymous" href="./light.css"></head><body><div id="__next"><main data-theme="light" class="w-full mx-auto"><div class="color-text-primary gsc-main"><div class="gsc-comments"><div class="gsc-header"><div class="gsc-left-header"><h4 class="gsc-comments-count"><a href="https://github.com/labuladong/fucking-algorithm/discussions/1012" target="_blank" rel="noreferrer noopener nofollow" class="color-text-primary">110 条评论</a></h4><h4 class="gsc-comments-count-separator">·</h4><h4 class="gsc-replies-count">8+ 条回复</h4><em class="color-text-secondary text-sm">– 由 <a href="https://giscus.app/" target="_blank" rel="noreferrer noopener nofollow" class="link-secondary">giscus</a> 驱动</em></div><div class="gsc-right-header BtnGroup" role="listbox"><button class="btn BtnGroup-item" aria-selected="true" role="option">最旧</button><button class="btn BtnGroup-item" aria-selected="false" role="option">最新</button></div></div><div class="gsc-timeline"><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/MrXIAGAO" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./41266707" width="30" height="30" alt="@MrXIAGAO"><span class="link-primary font-semibold">MrXIAGAO</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3570213" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2021年9月8日 GMT+8 11:29" datetime="2021-09-08T03:29:32Z">2021 年 9 月 8 日</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">感谢分享，思路很清晰，公式很强大！<br>
但是似乎并不是【max_k】才是结果：例如价格持续走低，一笔交易都不做的情况。</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"><button class="gsc-direct-reaction-button gsc-social-reaction-summary-item  cursor-not-allowed" disabled="" aria-label="你必须登录才能添加反应。" title="你必须登录才能添加反应。"><span class="gsc-direct-reaction-button-emoji">👍</span><span class="gsc-social-reaction-summary-item-count" title="2 人表示 +1">2</span></button></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">1 条回复</span></div></div><div class="color-bg-inset color-border-primary gsc-replies rounded-b-md"><div class="gsc-reply"><div class="gsc-tl-line"></div><div class="flex py-2 px-4 "><div class="gsc-reply-author-avatar"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/restart365" class="flex items-center"><img class="rounded-full" src="./10790783" width="30" height="30" alt="@restart365"></a></div><div class="w-full min-w-0 ml-2"><div class="gsc-reply-header"><div class="gsc-reply-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/restart365" class="flex items-center"><span class="link-primary font-semibold">restart365</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3776619" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2022年10月1日 GMT+8 11:17" datetime="2022-10-01T03:17:47Z">10 月 1 日</time></a></div><div class="flex"><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item popover-only"><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover bottom  right"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details></div></div><div dir="auto" class="markdown gsc-reply-content "><p dir="auto">最困难的是理解K这个维度到底是什么</p></div><div class="gsc-reply-reactions"><div class="gsc-direct-reaction-buttons"></div></div></div></div></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/keeleys" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./6245401" width="30" height="30" alt="@keeleys"><span class="link-primary font-semibold">keeleys</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3570214" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2021年9月9日 GMT+8 16:05" datetime="2021-09-09T08:05:59Z">2021 年 9 月 9 日</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><div class="snippet-clipboard-content notranslate position-relative" data-snippet-clipboard-copy-content="dp[i][1] = max(dp[i-1][1], -prices[i])"><pre class="notranslate"><code>dp[i][1] = max(dp[i-1][1], -prices[i])
</code></pre><div class="zeroclipboard-container position-absolute right-0 top-0">
  <button aria-label="Copy" class="ClipboardButton btn js-clipboard-copy m-2 p-0 tooltipped-no-delay" data-copy-feedback="Copied!" tabindex="0" role="button">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon m-2">
      <path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path>
    </svg>
    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" height="16" width="16" class="octicon octicon-check js-clipboard-check-icon color-text-success d-none m-2">
      <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
    </svg>
  </button>
</div></div>
<p dir="auto">-prices[i]怎么理解呢</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/pkingpeng" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./44970706" width="30" height="30" alt="@pkingpeng"><span class="link-primary font-semibold">pkingpeng</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3570215" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2021年10月3日 GMT+8 17:14" datetime="2021-10-03T09:14:34Z">2021 年 10 月 3 日</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">-prices[i] 我理解，第一天你如果持有，那么你就是第一天买入了股票，此时你的利润就是 - prices[i]</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"><button class="gsc-direct-reaction-button gsc-social-reaction-summary-item  cursor-not-allowed" disabled="" aria-label="你必须登录才能添加反应。" title="你必须登录才能添加反应。"><span class="gsc-direct-reaction-button-emoji">👍</span><span class="gsc-social-reaction-summary-item-count" title="2 人表示 +1">2</span></button></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/ZhongkangLi" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./48592979" width="30" height="30" alt="@ZhongkangLi"><span class="link-primary font-semibold">ZhongkangLi</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3570216" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2021年10月4日 GMT+8 04:54" datetime="2021-10-03T20:54:09Z">2021 年 10 月 4 日</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">-prices[I]只出现在k = 1的情况。因为如果只有一次交易的话，那每天的dp[i][1]状态（第i天手持股票）只会是因为我在当天购买了股票，使得我目前的资本为-prices[I]，所以是负数。<br>
每天的dp[i][1]状态不会依赖于dp[i-1][0]， 也就是当k =1的时候dp[i][1] 不等于dp[i-1][0] - prices[I]。</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"><button class="gsc-direct-reaction-button gsc-social-reaction-summary-item  cursor-not-allowed" disabled="" aria-label="你必须登录才能添加反应。" title="你必须登录才能添加反应。"><span class="gsc-direct-reaction-button-emoji">👍</span><span class="gsc-social-reaction-summary-item-count" title="8 人表示 +1">8</span></button><button class="gsc-direct-reaction-button gsc-social-reaction-summary-item  cursor-not-allowed" disabled="" aria-label="你必须登录才能添加反应。" title="你必须登录才能添加反应。"><span class="gsc-direct-reaction-button-emoji">🚀</span><span class="gsc-social-reaction-summary-item-count" title="4 人表示 上天">4</span></button></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/20183501053lxc" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./60311665" width="30" height="30" alt="@20183501053lxc"><span class="link-primary font-semibold">20183501053lxc</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3570217" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2021年10月27日 GMT+8 17:36" datetime="2021-10-27T09:36:01Z">2021 年 10 月 27 日</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">文中的“而且注意 k 的限制，我们在选择 buy 的时候，把 k 减小了 1，很好理解吧，当然你也可以在 sell 的时候减 1，一样的。”这句话应该是只有买入的时候才能够减1吧，卖出的时候不能减1。因为只有买入之后才能够卖出吧？而且我在写188.买卖股票的最佳时机 IV（困难）时候，buy操作减1是能够过题，但是sell操作减1是不能够过样例的。</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/NathanSu0304" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./40217648" width="30" height="30" alt="@NathanSu0304"><span class="link-primary font-semibold">NathanSu0304</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3570218" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2021年11月5日 GMT+8 23:10" datetime="2021-11-05T15:10:12Z">2021 年 11 月 5 日</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">冷冻期的那个题，i-2 越界到-1是怎么处理的呢？ 不是太通透？</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./37220920" width="30" height="30" alt="@labuladong"><span class="link-primary font-semibold">labuladong</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3570219" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2021年11月6日 GMT+8 09:04" datetime="2021-11-06T01:04:10Z">2021 年 11 月 6 日</time></a><div class="hidden text-xs ml-2 sm:inline-flex"><span class="capitalize ml-1 rounded-md border px-1 color-label-border">所有者</span></div></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto"><a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/20183501053lxc/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/20183501053lxc" rel="noopener noreferrer nofollow" target="_top">@20183501053lxc</a> 你说的有道理，我在文中重新探讨了这个问题</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./37220920" width="30" height="30" alt="@labuladong"><span class="link-primary font-semibold">labuladong</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3570220" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2021年11月7日 GMT+8 07:56" datetime="2021-11-06T23:56:20Z">2021 年 11 月 7 日</time></a><div class="hidden text-xs ml-2 sm:inline-flex"><span class="capitalize ml-1 rounded-md border px-1 color-label-border">所有者</span></div></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto"><a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/NathanSu0304/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/NathanSu0304" rel="noopener noreferrer nofollow" target="_top">@NathanSu0304</a> 我重新修改了一下</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"><button class="gsc-direct-reaction-button gsc-social-reaction-summary-item  cursor-not-allowed" disabled="" aria-label="你必须登录才能添加反应。" title="你必须登录才能添加反应。"><span class="gsc-direct-reaction-button-emoji">❤️</span><span class="gsc-social-reaction-summary-item-count" title="4 人表示 爱了">4</span></button></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/xiaomudan778" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./93861519" width="30" height="30" alt="@xiaomudan778"><span class="link-primary font-semibold">xiaomudan778</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3570221" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2021年11月10日 GMT+8 11:57" datetime="2021-11-10T03:57:27Z">2021 年 11 月 10 日</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">感谢分享，爆赞 [强]</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"><button class="gsc-direct-reaction-button gsc-social-reaction-summary-item  cursor-not-allowed" disabled="" aria-label="你必须登录才能添加反应。" title="你必须登录才能添加反应。"><span class="gsc-direct-reaction-button-emoji">👍</span><span class="gsc-social-reaction-summary-item-count" title="2 人表示 +1">2</span></button></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/0xlightyear" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./43025076" width="30" height="30" alt="@0xlightyear"><span class="link-primary font-semibold">0xlightyear</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3570222" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2021年11月12日 GMT+8 09:10" datetime="2021-11-12T01:10:15Z">2021 年 11 月 12 日</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">非常感谢！整体逻辑非常清晰。但是有一个Base case有点想不通。</p>
<div class="snippet-clipboard-content notranslate position-relative" data-snippet-clipboard-copy-content="dp[...][0][0] = 0
解释：因为 k 是从 1 开始的，所以 k = 0 意味着根本不允许交易，这时候利润当然是 0。"><pre class="notranslate"><code>dp[...][0][0] = 0
解释：因为 k 是从 1 开始的，所以 k = 0 意味着根本不允许交易，这时候利润当然是 0。
</code></pre><div class="zeroclipboard-container position-absolute right-0 top-0">
  <button aria-label="Copy" class="ClipboardButton btn js-clipboard-copy m-2 p-0 tooltipped-no-delay" data-copy-feedback="Copied!" tabindex="0" role="button">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon m-2">
      <path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path>
    </svg>
    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" height="16" width="16" class="octicon octicon-check js-clipboard-check-icon color-text-success d-none m-2">
      <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
    </svg>
  </button>
</div></div>
<p dir="auto">这个时候的利润为何不能是最后一笔卖出的利润？<br>
dp[i][0][0] = max(<del>dp[i-1][0][0]</del>, dp[i-1][0][1]+price[i])<br>
想了很久想不通，望大佬解惑</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/0xlightyear" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./43025076" width="30" height="30" alt="@0xlightyear"><span class="link-primary font-semibold">0xlightyear</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3570223" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2021年11月13日 GMT+8 07:42" datetime="2021-11-12T23:42:01Z">2021 年 11 月 13 日</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">我有点想明白了。</p>
<div class="snippet-clipboard-content notranslate position-relative" data-snippet-clipboard-copy-content="dp[...][0][0] = 0
解释：因为 k 是从 1 开始的，所以 k = 0 意味着根本不允许交易，这时候利润当然是 0。"><pre class="notranslate"><code>dp[...][0][0] = 0
解释：因为 k 是从 1 开始的，所以 k = 0 意味着根本不允许交易，这时候利润当然是 0。
</code></pre><div class="zeroclipboard-container position-absolute right-0 top-0">
  <button aria-label="Copy" class="ClipboardButton btn js-clipboard-copy m-2 p-0 tooltipped-no-delay" data-copy-feedback="Copied!" tabindex="0" role="button">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon m-2">
      <path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path>
    </svg>
    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" height="16" width="16" class="octicon octicon-check js-clipboard-check-icon color-text-success d-none m-2">
      <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
    </svg>
  </button>
</div></div>
<p dir="auto">比起说k=0意味着"根本不允许交易"， 对我来说k=0意味着"我不想交易" 更好理解一些。<br>
<code class="notranslate">dp[...][0][0] = 0</code>的感觉是在我不知道股票走势的时候，我可以选择从头到尾不买不卖，这样我的利润一直是0，从而应对股票一直下跌的情况。</p>
<p dir="auto">当然 <code class="notranslate">dp[i][0][0] = max(dp[i-1][0][0], dp[i-1][0][1]+price[i])</code>也是成立的，如果之前的在某种"状态"下的股票有盈利x，那我们的<code class="notranslate">dp[...][0][0]</code>在此状态之后，假设股票一直下跌，可以一直选择不买不卖，从而一直保持着x的盈利状态直至最后一天。如果有大于x的盈利，那么可以再更新dp[...][0][0]</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./37220920" width="30" height="30" alt="@labuladong"><span class="link-primary font-semibold">labuladong</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3570224" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2021年11月13日 GMT+8 08:25" datetime="2021-11-13T00:25:48Z">2021 年 11 月 13 日</time></a><div class="hidden text-xs ml-2 sm:inline-flex"><span class="capitalize ml-1 rounded-md border px-1 color-label-border">所有者</span></div></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto"><a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/0xlightyear/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/0xlightyear" rel="noopener noreferrer nofollow" target="_top">@0xlightyear</a>  很高兴你提出这个问题，不过我觉得你的理解有点偏差。其实很好理解，<code class="notranslate">k</code> 的定义是允许买卖的次数上限，那么如果这个上限规定为 0，相当于完全不准你买入和卖出，所以利润一定是 0。就好比你去炒股，结果号被封了，就算你能预知未来，但人家根本不让你入场，你还是赚不到钱。</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"><button class="gsc-direct-reaction-button gsc-social-reaction-summary-item  cursor-not-allowed" disabled="" aria-label="你必须登录才能添加反应。" title="你必须登录才能添加反应。"><span class="gsc-direct-reaction-button-emoji">👍</span><span class="gsc-social-reaction-summary-item-count" title="4 人表示 +1">4</span></button></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/0xlightyear" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./43025076" width="30" height="30" alt="@0xlightyear"><span class="link-primary font-semibold">0xlightyear</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3570225" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2021年11月13日 GMT+8 08:36" datetime="2021-11-13T00:36:39Z">2021 年 11 月 13 日</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto"><a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/labuladong/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/labuladong" rel="noopener noreferrer nofollow" target="_top">@labuladong</a> 是的是的！无论是从"我希望不超过k次买卖"还是"不允许超过k次买卖"，两个角度描述的核心都是"不超过k次"的最值。同一个意思。想了一天终于明白了。非常感谢博主做出这一套教程，思路太棒了！</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./37220920" width="30" height="30" alt="@labuladong"><span class="link-primary font-semibold">labuladong</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3570226" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2021年11月13日 GMT+8 09:42" datetime="2021-11-13T01:42:47Z">2021 年 11 月 13 日</time></a><div class="hidden text-xs ml-2 sm:inline-flex"><span class="capitalize ml-1 rounded-md border px-1 color-label-border">所有者</span></div></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto"><a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/0xlightyear/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/0xlightyear" rel="noopener noreferrer nofollow" target="_top">@0xlightyear</a> 加油~</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/changchingchi" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./8369379" width="30" height="30" alt="@changchingchi"><span class="link-primary font-semibold">changchingchi</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3570227" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2021年11月24日 GMT+8 14:14" datetime="2021-11-24T06:14:35Z">2021 年 11 月 24 日</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">寫的真的是很好 謝謝！</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="pagination-loader-container gsc-pagination"><button class="gsc-pagination-button color-border-primary"><span class="color-text-secondary">80 个隐藏项</span><span class="color-text-link font-semibold">加载更多…</span></button></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/huangyangke" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./57662545" width="30" height="30" alt="@huangyangke"><span class="link-primary font-semibold">huangyangke</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3570308" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2022年8月3日 GMT+8 11:21" datetime="2022-08-03T03:21:01Z">8 月 3 日</time></a></div><div class="flex"><button class="color-text-secondary gsc-comment-edited" title="最后编辑于 2022年8月3日 GMT+8 11:27">已编辑</button></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">关于k是交易次数的上限而不是交易次数的理解（这里假设买入就算一次交易）：<br>
1、因为买入和卖出最少需要两天，如果k按照交易次数来定义，那么每天k的可取范围是不一样的，比如第一天和第二天，k只能取到0、1，第三天k可以取到0、1、2，在for循环遍历所有的状态的时候，k的遍历范围就需要根据天数来变化，这样代码就会比较复杂。<br>
2、如果k按照交易次数的上限来定义。交易次数的上限就包含今天交易的次数的所有可能，比如头两天交易次数最大为1，k&gt;1的情况dp数组的值就会等于k=1的情况。其实我觉得应该换一个定义，k为交易次数的理论上限。这样，第一天实际上限是k=1，理论上限是k=K，由于k&gt;1实际取不到，那么k&gt;1应该为实际的k=1的情况。<br>
这样定义主要还是编写代码方便吧，可以尝试将dp数据可视化一下，这样结合定义便于理解。</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/Ssssv11" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./56876234" width="30" height="30" alt="@Ssssv11"><span class="link-primary font-semibold">Ssssv11</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3570309" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2022年8月8日 GMT+8 14:37" datetime="2022-08-08T06:37:01Z">8 月 8 日</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">发现 188题 在 <code class="notranslate">k = 2</code> 的代码中将 <code class="notranslate">k</code> 修改后添加 <code class="notranslate">n &lt;= 0</code> 条件后也能过，不需要使用 <code class="notranslate">k</code> 无限制的代码</p>
<div class="highlight highlight-source-java notranslate position-relative" dir="auto" data-snippet-clipboard-copy-content="public int maxProfit(int k, int[] prices) {
    int n = prices.length;
    if (n &lt;= 0) {
        return 0;
    }
    int[][][] dp = new int[n][k + 1][2];

    for (int i = 0; i &lt; n; i++) {
        for (int j = k; j &gt;= 1; j--) {
            if (i - 1 == -1) {
                dp[i][j][0] = 0;
                dp[i][j][1] = -prices[i];
                continue;
            }
            dp[i][j][0] = Math.max(dp[i - 1][j][0], dp[i - 1][j][1] + prices[i]);
            dp[i][j][1] = Math.max(dp[i - 1][j][1], dp[i - 1][j - 1][0] - prices[i]);
        }
    }

    return dp[n - 1][k][0];
}"><pre><span class="pl-k">public</span> <span class="pl-smi">int</span> <span class="pl-s1">maxProfit</span>(<span class="pl-smi">int</span> <span class="pl-s1">k</span>, <span class="pl-smi">int</span>[] <span class="pl-s1">prices</span>) {
    <span class="pl-smi">int</span> <span class="pl-s1">n</span> = <span class="pl-s1">prices</span>.<span class="pl-s1">length</span>;
    <span class="pl-k">if</span> (<span class="pl-s1">n</span> &lt;= <span class="pl-c1">0</span>) {
        <span class="pl-k">return</span> <span class="pl-c1">0</span>;
    }
    <span class="pl-smi">int</span>[][][] <span class="pl-s1">dp</span> = <span class="pl-k">new</span> <span class="pl-smi">int</span>[<span class="pl-s1">n</span>][<span class="pl-s1">k</span> + <span class="pl-c1">1</span>][<span class="pl-c1">2</span>];

    <span class="pl-k">for</span> (<span class="pl-smi">int</span> <span class="pl-s1">i</span> = <span class="pl-c1">0</span>; <span class="pl-s1">i</span> &lt; <span class="pl-s1">n</span>; <span class="pl-s1">i</span>++) {
        <span class="pl-k">for</span> (<span class="pl-smi">int</span> <span class="pl-s1">j</span> = <span class="pl-s1">k</span>; <span class="pl-s1">j</span> &gt;= <span class="pl-c1">1</span>; <span class="pl-s1">j</span>--) {
            <span class="pl-k">if</span> (<span class="pl-s1">i</span> - <span class="pl-c1">1</span> == -<span class="pl-c1">1</span>) {
                <span class="pl-s1">dp</span>[<span class="pl-s1">i</span>][<span class="pl-s1">j</span>][<span class="pl-c1">0</span>] = <span class="pl-c1">0</span>;
                <span class="pl-s1">dp</span>[<span class="pl-s1">i</span>][<span class="pl-s1">j</span>][<span class="pl-c1">1</span>] = -<span class="pl-s1">prices</span>[<span class="pl-s1">i</span>];
                <span class="pl-k">continue</span>;
            }
            <span class="pl-s1">dp</span>[<span class="pl-s1">i</span>][<span class="pl-s1">j</span>][<span class="pl-c1">0</span>] = <span class="pl-s1">Math</span>.<span class="pl-en">max</span>(<span class="pl-s1">dp</span>[<span class="pl-s1">i</span> - <span class="pl-c1">1</span>][<span class="pl-s1">j</span>][<span class="pl-c1">0</span>], <span class="pl-s1">dp</span>[<span class="pl-s1">i</span> - <span class="pl-c1">1</span>][<span class="pl-s1">j</span>][<span class="pl-c1">1</span>] + <span class="pl-s1">prices</span>[<span class="pl-s1">i</span>]);
            <span class="pl-s1">dp</span>[<span class="pl-s1">i</span>][<span class="pl-s1">j</span>][<span class="pl-c1">1</span>] = <span class="pl-s1">Math</span>.<span class="pl-en">max</span>(<span class="pl-s1">dp</span>[<span class="pl-s1">i</span> - <span class="pl-c1">1</span>][<span class="pl-s1">j</span>][<span class="pl-c1">1</span>], <span class="pl-s1">dp</span>[<span class="pl-s1">i</span> - <span class="pl-c1">1</span>][<span class="pl-s1">j</span> - <span class="pl-c1">1</span>][<span class="pl-c1">0</span>] - <span class="pl-s1">prices</span>[<span class="pl-s1">i</span>]);
        }
    }

    <span class="pl-k">return</span> <span class="pl-s1">dp</span>[<span class="pl-s1">n</span> - <span class="pl-c1">1</span>][<span class="pl-s1">k</span>][<span class="pl-c1">0</span>];
}</pre><div class="zeroclipboard-container position-absolute right-0 top-0">
  <button aria-label="Copy" class="ClipboardButton btn js-clipboard-copy m-2 p-0 tooltipped-no-delay" data-copy-feedback="Copied!" tabindex="0" role="button">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon m-2">
      <path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path>
    </svg>
    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" height="16" width="16" class="octicon octicon-check js-clipboard-check-icon color-text-success d-none m-2">
      <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
    </svg>
  </button>
</div></div></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/guqihao-7" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./77058925" width="30" height="30" alt="@guqihao-7"><span class="link-primary font-semibold">guqihao-7</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3570310" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2022年8月11日 GMT+8 17:27" datetime="2022-08-11T09:27:47Z">8 月 11 日</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">一次买入应该就算是一次交易，我来谈谈我的看法。因为存在掏了手续费买入，但是没有卖出的情况，而且实际上，在状态转移方程<code class="notranslate">dp[i][k][1] = Math.max(dp[i-1][k][1], dp[i-1][k-1][0] - prices[i]);</code>中也能看出，当买入时<code class="notranslate">dp[i][k][1]</code>状态依赖于<code class="notranslate">dp[i][k-1][0]</code>，说明在代码中我们就是认为一次买入就算一次交易，而不是题目说的一次买卖整体算一个交易。楼上也有朋友认为可以将一次卖出看作是一次交易，我这里觉得有点问题，我按照这个思路写出了<a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-iv/submissions/" rel="noopener noreferrer nofollow" target="_top">188 买卖股票的最佳时机IV</a>的递归代码，我觉得递归代码更好理解，代码如下：</p>
<div class="highlight highlight-source-java notranslate position-relative" dir="auto" data-snippet-clipboard-copy-content="class Solution {
    public int maxProfit(int k, int[] prices) {
        if (prices.length == 0) {
            return 0;
        }
        return process(prices, k, prices.length - 1, 0);
    }

    // 只有买入才算一次交易
    public int process(int[] prices, int k, int i, int state) {
        if (k == 0) {
            return 0;
        }

        if (i == 0 &amp;&amp; state == 0) {
            return 0;
        } else if (i == 0 &amp;&amp; state == 1) {
            return -prices[i];
        }

        if (state == 0) {
            // 如果一次卖出看做一次交易，那就在第二个 process 递归中传`k-1`
            return Math.max(
                    process(prices, k, i - 1, 0),
                    process(prices, k - 1, i - 1, 1) + prices[i]
            );
        } else {
            return Math.max(
                     // 因为一次买入不算一次交易，那么 第二个 process 代表买入，但是递归时k不减一
                    process(prices, k, i - 1, 1),
                    process(prices, k, i - 1, 0) - prices[i]
            );
        }
    }
}"><pre><span class="pl-k">class</span> <span class="pl-smi">Solution</span> {
    <span class="pl-k">public</span> <span class="pl-smi">int</span> <span class="pl-en">maxProfit</span>(<span class="pl-smi">int</span> <span class="pl-s1">k</span>, <span class="pl-smi">int</span>[] <span class="pl-s1">prices</span>) {
        <span class="pl-k">if</span> (<span class="pl-s1">prices</span>.<span class="pl-s1">length</span> == <span class="pl-c1">0</span>) {
            <span class="pl-k">return</span> <span class="pl-c1">0</span>;
        }
        <span class="pl-k">return</span> <span class="pl-en">process</span>(<span class="pl-s1">prices</span>, <span class="pl-s1">k</span>, <span class="pl-s1">prices</span>.<span class="pl-s1">length</span> - <span class="pl-c1">1</span>, <span class="pl-c1">0</span>);
    }

    <span class="pl-c">// 只有买入才算一次交易</span>
    <span class="pl-k">public</span> <span class="pl-smi">int</span> <span class="pl-en">process</span>(<span class="pl-smi">int</span>[] <span class="pl-s1">prices</span>, <span class="pl-smi">int</span> <span class="pl-s1">k</span>, <span class="pl-smi">int</span> <span class="pl-s1">i</span>, <span class="pl-smi">int</span> <span class="pl-s1">state</span>) {
        <span class="pl-k">if</span> (<span class="pl-s1">k</span> == <span class="pl-c1">0</span>) {
            <span class="pl-k">return</span> <span class="pl-c1">0</span>;
        }

        <span class="pl-k">if</span> (<span class="pl-s1">i</span> == <span class="pl-c1">0</span> &amp;&amp; <span class="pl-s1">state</span> == <span class="pl-c1">0</span>) {
            <span class="pl-k">return</span> <span class="pl-c1">0</span>;
        } <span class="pl-k">else</span> <span class="pl-k">if</span> (<span class="pl-s1">i</span> == <span class="pl-c1">0</span> &amp;&amp; <span class="pl-s1">state</span> == <span class="pl-c1">1</span>) {
            <span class="pl-k">return</span> -<span class="pl-s1">prices</span>[<span class="pl-s1">i</span>];
        }

        <span class="pl-k">if</span> (<span class="pl-s1">state</span> == <span class="pl-c1">0</span>) {
            <span class="pl-c">// 如果一次卖出看做一次交易，那就在第二个 process 递归中传`k-1`</span>
            <span class="pl-k">return</span> <span class="pl-s1">Math</span>.<span class="pl-en">max</span>(
                    <span class="pl-en">process</span>(<span class="pl-s1">prices</span>, <span class="pl-s1">k</span>, <span class="pl-s1">i</span> - <span class="pl-c1">1</span>, <span class="pl-c1">0</span>),
                    <span class="pl-en">process</span>(<span class="pl-s1">prices</span>, <span class="pl-s1">k</span> - <span class="pl-c1">1</span>, <span class="pl-s1">i</span> - <span class="pl-c1">1</span>, <span class="pl-c1">1</span>) + <span class="pl-s1">prices</span>[<span class="pl-s1">i</span>]
            );
        } <span class="pl-k">else</span> {
            <span class="pl-k">return</span> <span class="pl-s1">Math</span>.<span class="pl-en">max</span>(
                     <span class="pl-c">// 因为一次买入不算一次交易，那么 第二个 process 代表买入，但是递归时k不减一</span>
                    <span class="pl-en">process</span>(<span class="pl-s1">prices</span>, <span class="pl-s1">k</span>, <span class="pl-s1">i</span> - <span class="pl-c1">1</span>, <span class="pl-c1">1</span>),
                    <span class="pl-en">process</span>(<span class="pl-s1">prices</span>, <span class="pl-s1">k</span>, <span class="pl-s1">i</span> - <span class="pl-c1">1</span>, <span class="pl-c1">0</span>) - <span class="pl-s1">prices</span>[<span class="pl-s1">i</span>]
            );
        }
    }
}</pre><div class="zeroclipboard-container position-absolute right-0 top-0">
  <button aria-label="Copy" class="ClipboardButton btn js-clipboard-copy m-2 p-0 tooltipped-no-delay" data-copy-feedback="Copied!" tabindex="0" role="button">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon m-2">
      <path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path>
    </svg>
    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" height="16" width="16" class="octicon octicon-check js-clipboard-check-icon color-text-success d-none m-2">
      <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
    </svg>
  </button>
</div></div>
<p dir="auto">这段代码在真实跑样例的时候出现了错误，数据是<code class="notranslate">prices = {3, 2, 6, 5, 0, 3}, k = 2</code>，得到的答案是9而不是正确的7<br>
但是如果认为一次买入就算一次交易的话，对应的暴力递归的代码如下：</p>
<div class="highlight highlight-source-java notranslate position-relative" dir="auto" data-snippet-clipboard-copy-content="class Solution {
    public int maxProfit(int k, int[] prices) {
        if (prices.length == 0) {
            return 0;
        }
        return process(prices, k, prices.length - 1, 0);
    }

    // 只有买入才算一次交易
    public int process(int[] prices, int k, int i, int state) {
        if (k == 0) {
            return 0;
        }

        if (i == 0 &amp;&amp; state == 0) {
            return 0;
        } else if (i == 0 &amp;&amp; state == 1) {
            return -prices[i];
        }

        if (state == 0) {
            // 卖出不算交易，所以第二个 process 仍然传 k
            return Math.max(
                    process(prices, k, i - 1, 0),
                    process(prices, k, i - 1, 1) + prices[i]
            );
        } else {
            // 买入就算交易，那么第二个 process 要传 k-1
            return Math.max(
                    process(prices, k, i - 1, 1),
                    process(prices, k - 1, i - 1, 0) - prices[i]
            );
        }
    }
}"><pre><span class="pl-k">class</span> <span class="pl-smi">Solution</span> {
    <span class="pl-k">public</span> <span class="pl-smi">int</span> <span class="pl-en">maxProfit</span>(<span class="pl-smi">int</span> <span class="pl-s1">k</span>, <span class="pl-smi">int</span>[] <span class="pl-s1">prices</span>) {
        <span class="pl-k">if</span> (<span class="pl-s1">prices</span>.<span class="pl-s1">length</span> == <span class="pl-c1">0</span>) {
            <span class="pl-k">return</span> <span class="pl-c1">0</span>;
        }
        <span class="pl-k">return</span> <span class="pl-en">process</span>(<span class="pl-s1">prices</span>, <span class="pl-s1">k</span>, <span class="pl-s1">prices</span>.<span class="pl-s1">length</span> - <span class="pl-c1">1</span>, <span class="pl-c1">0</span>);
    }

    <span class="pl-c">// 只有买入才算一次交易</span>
    <span class="pl-k">public</span> <span class="pl-smi">int</span> <span class="pl-en">process</span>(<span class="pl-smi">int</span>[] <span class="pl-s1">prices</span>, <span class="pl-smi">int</span> <span class="pl-s1">k</span>, <span class="pl-smi">int</span> <span class="pl-s1">i</span>, <span class="pl-smi">int</span> <span class="pl-s1">state</span>) {
        <span class="pl-k">if</span> (<span class="pl-s1">k</span> == <span class="pl-c1">0</span>) {
            <span class="pl-k">return</span> <span class="pl-c1">0</span>;
        }

        <span class="pl-k">if</span> (<span class="pl-s1">i</span> == <span class="pl-c1">0</span> &amp;&amp; <span class="pl-s1">state</span> == <span class="pl-c1">0</span>) {
            <span class="pl-k">return</span> <span class="pl-c1">0</span>;
        } <span class="pl-k">else</span> <span class="pl-k">if</span> (<span class="pl-s1">i</span> == <span class="pl-c1">0</span> &amp;&amp; <span class="pl-s1">state</span> == <span class="pl-c1">1</span>) {
            <span class="pl-k">return</span> -<span class="pl-s1">prices</span>[<span class="pl-s1">i</span>];
        }

        <span class="pl-k">if</span> (<span class="pl-s1">state</span> == <span class="pl-c1">0</span>) {
            <span class="pl-c">// 卖出不算交易，所以第二个 process 仍然传 k</span>
            <span class="pl-k">return</span> <span class="pl-s1">Math</span>.<span class="pl-en">max</span>(
                    <span class="pl-en">process</span>(<span class="pl-s1">prices</span>, <span class="pl-s1">k</span>, <span class="pl-s1">i</span> - <span class="pl-c1">1</span>, <span class="pl-c1">0</span>),
                    <span class="pl-en">process</span>(<span class="pl-s1">prices</span>, <span class="pl-s1">k</span>, <span class="pl-s1">i</span> - <span class="pl-c1">1</span>, <span class="pl-c1">1</span>) + <span class="pl-s1">prices</span>[<span class="pl-s1">i</span>]
            );
        } <span class="pl-k">else</span> {
            <span class="pl-c">// 买入就算交易，那么第二个 process 要传 k-1</span>
            <span class="pl-k">return</span> <span class="pl-s1">Math</span>.<span class="pl-en">max</span>(
                    <span class="pl-en">process</span>(<span class="pl-s1">prices</span>, <span class="pl-s1">k</span>, <span class="pl-s1">i</span> - <span class="pl-c1">1</span>, <span class="pl-c1">1</span>),
                    <span class="pl-en">process</span>(<span class="pl-s1">prices</span>, <span class="pl-s1">k</span> - <span class="pl-c1">1</span>, <span class="pl-s1">i</span> - <span class="pl-c1">1</span>, <span class="pl-c1">0</span>) - <span class="pl-s1">prices</span>[<span class="pl-s1">i</span>]
            );
        }
    }
}</pre><div class="zeroclipboard-container position-absolute right-0 top-0">
  <button aria-label="Copy" class="ClipboardButton btn js-clipboard-copy m-2 p-0 tooltipped-no-delay" data-copy-feedback="Copied!" tabindex="0" role="button">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon m-2">
      <path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path>
    </svg>
    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" height="16" width="16" class="octicon octicon-check js-clipboard-check-icon color-text-success d-none m-2">
      <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
    </svg>
  </button>
</div></div>
<p dir="auto">这段代码逻辑上没有问题，加个<code class="notranslate">备忘录</code>就过了</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/loftiest" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./66511481" width="30" height="30" alt="@loftiest"><span class="link-primary font-semibold">loftiest</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3570311" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2022年8月13日 GMT+8 20:10" datetime="2022-08-13T12:10:46Z">8 月 13 日</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">k理解为最多可进行交易的次数。<br>
第 i 次交易由买入和卖出构成，买入是交易的开始，卖出是交易的结束。<br>
需要在day=len(prices)天获得收益，收益 &gt;= 0。<br>
那么在最后一天，应当不持有股票，要尽量在最后一天卖出，或者在这之前卖出。<br>
并且在最后一天或者之前进行k次交易能使得收益最大化。<br>
由于每次交易都是独立的，也就是不能交叉交易。例如，想要开始第 i 次交易，就必须在第i-1次交易结束后买入；而第i-1次交易结束就是第i-1次交易卖出之后的状态。<br>
还有一点，不在一天当中多次买入卖出，因为这样做没有收益。最好的情况，是昨天买入今天卖出，并且这次交易还能有比较好的收益，只有这样才能在交易次数和天数都限制的情况下，获得高收益。<br>
那么，买入收益=<code class="notranslate">前一天第i-1次交易结束(卖出)后的收益-购买花费</code>；<br>
卖出收益=<code class="notranslate">前面一天第i次交易开始(买入)后的收益+卖出所得</code>。<br>
然后，就是选择继续持有还是重新买入。也很容易理解，就是选在之前买还是选择现在买，要选择此次交易买入花费小的一天中买入。<br>
卖出也是同理。第 i 次的交易收益受到<code class="notranslate">前一次的交易收益和能进行交易的天数</code>的影响，要做到总是在有限的交易次数和可交易天数下，消耗所有交易次数，获取最高的收益。<br>
这样dp数组也就很好理解了，dp定义为<code class="notranslate">[在哪天][是哪次交易][是持有(重新买入)/不持有状态(重新卖出)]</code>时的收益。只取第一天(可假设只有一天能进行交易)的情况来看，第1次交易结束的收益为0(不考虑可能存在的手续费)。显然这是最坏的情况，因为在同一天买入卖出了。如果交易次数还有，那应当全部用完，最终卖出的收益为0，并且每次交易买入后和卖出后的收益都将相同。</p>
<div class="highlight highlight-source-java notranslate position-relative" dir="auto" data-snippet-clipboard-copy-content="// [188]买卖股票的最佳时机 IV
public int maxProfit(int k, int[] prices) {
        if ( prices.length &lt; 2 ) { return 0; }
        int[][][] dp = new int[prices.length][2][2];
        dp[0][0][1] = -prices[0]; // base case1: 第k%2=0次交易中买入
        dp[0][1][1] = -prices[0]; // base case2: 第k%2=1次交易中买入
        for (int j = 1; j &lt;= k; j++) {
            for (int i = 1; i &lt; prices.length; i++) {
                dp[i][j%2][0] = Math.max(dp[i-1][j%2][0], dp[i-1][j%2][1] + prices[i]); // 这是如果在第i天第j次交易的结束后的收益
                dp[i][j%2][1] = Math.max(dp[i-1][j%2][1], dp[i-1][(j-1)%2][0] - prices[i]); // 这是如果在第i天第j次交易的开始后的收益
            }
        }
        return dp[prices.length - 1][k%2][0];
    }"><pre><span class="pl-c">// [188]买卖股票的最佳时机 IV</span>
<span class="pl-k">public</span> <span class="pl-smi">int</span> <span class="pl-s1">maxProfit</span>(<span class="pl-smi">int</span> <span class="pl-s1">k</span>, <span class="pl-smi">int</span>[] <span class="pl-s1">prices</span>) {
        <span class="pl-k">if</span> ( <span class="pl-s1">prices</span>.<span class="pl-s1">length</span> &lt; <span class="pl-c1">2</span> ) { <span class="pl-k">return</span> <span class="pl-c1">0</span>; }
        <span class="pl-smi">int</span>[][][] <span class="pl-s1">dp</span> = <span class="pl-k">new</span> <span class="pl-smi">int</span>[<span class="pl-s1">prices</span>.<span class="pl-s1">length</span>][<span class="pl-c1">2</span>][<span class="pl-c1">2</span>];
        <span class="pl-s1">dp</span>[<span class="pl-c1">0</span>][<span class="pl-c1">0</span>][<span class="pl-c1">1</span>] = -<span class="pl-s1">prices</span>[<span class="pl-c1">0</span>]; <span class="pl-c">// base case1: 第k%2=0次交易中买入</span>
        <span class="pl-s1">dp</span>[<span class="pl-c1">0</span>][<span class="pl-c1">1</span>][<span class="pl-c1">1</span>] = -<span class="pl-s1">prices</span>[<span class="pl-c1">0</span>]; <span class="pl-c">// base case2: 第k%2=1次交易中买入</span>
        <span class="pl-k">for</span> (<span class="pl-smi">int</span> <span class="pl-s1">j</span> = <span class="pl-c1">1</span>; <span class="pl-s1">j</span> &lt;= <span class="pl-s1">k</span>; <span class="pl-s1">j</span>++) {
            <span class="pl-k">for</span> (<span class="pl-smi">int</span> <span class="pl-s1">i</span> = <span class="pl-c1">1</span>; <span class="pl-s1">i</span> &lt; <span class="pl-s1">prices</span>.<span class="pl-s1">length</span>; <span class="pl-s1">i</span>++) {
                <span class="pl-s1">dp</span>[<span class="pl-s1">i</span>][<span class="pl-s1">j</span>%<span class="pl-c1">2</span>][<span class="pl-c1">0</span>] = <span class="pl-s1">Math</span>.<span class="pl-en">max</span>(<span class="pl-s1">dp</span>[<span class="pl-s1">i</span>-<span class="pl-c1">1</span>][<span class="pl-s1">j</span>%<span class="pl-c1">2</span>][<span class="pl-c1">0</span>], <span class="pl-s1">dp</span>[<span class="pl-s1">i</span>-<span class="pl-c1">1</span>][<span class="pl-s1">j</span>%<span class="pl-c1">2</span>][<span class="pl-c1">1</span>] + <span class="pl-s1">prices</span>[<span class="pl-s1">i</span>]); <span class="pl-c">// 这是如果在第i天第j次交易的结束后的收益</span>
                <span class="pl-s1">dp</span>[<span class="pl-s1">i</span>][<span class="pl-s1">j</span>%<span class="pl-c1">2</span>][<span class="pl-c1">1</span>] = <span class="pl-s1">Math</span>.<span class="pl-en">max</span>(<span class="pl-s1">dp</span>[<span class="pl-s1">i</span>-<span class="pl-c1">1</span>][<span class="pl-s1">j</span>%<span class="pl-c1">2</span>][<span class="pl-c1">1</span>], <span class="pl-s1">dp</span>[<span class="pl-s1">i</span>-<span class="pl-c1">1</span>][(<span class="pl-s1">j</span>-<span class="pl-c1">1</span>)%<span class="pl-c1">2</span>][<span class="pl-c1">0</span>] - <span class="pl-s1">prices</span>[<span class="pl-s1">i</span>]); <span class="pl-c">// 这是如果在第i天第j次交易的开始后的收益</span>
            }
        }
        <span class="pl-k">return</span> <span class="pl-s1">dp</span>[<span class="pl-s1">prices</span>.<span class="pl-s1">length</span> - <span class="pl-c1">1</span>][<span class="pl-s1">k</span>%<span class="pl-c1">2</span>][<span class="pl-c1">0</span>];
    }</pre><div class="zeroclipboard-container position-absolute right-0 top-0">
  <button aria-label="Copy" class="ClipboardButton btn js-clipboard-copy m-2 p-0 tooltipped-no-delay" data-copy-feedback="Copied!" tabindex="0" role="button">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon m-2">
      <path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path>
    </svg>
    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" height="16" width="16" class="octicon octicon-check js-clipboard-check-icon color-text-success d-none m-2">
      <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
    </svg>
  </button>
</div></div></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/likevivi" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./42997721" width="30" height="30" alt="@likevivi"><span class="link-primary font-semibold">likevivi</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3570312" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2022年8月30日 GMT+8 11:35" datetime="2022-08-30T03:35:23Z">8 月 30 日</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">有一点想不通<br>
为什么利润最高的是dp[n - 1][max_k][0]，<br>
而不是dp[n - 1][max_k-1][0] 或者k=其他值的情况？</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">1 条回复</span></div></div><div class="color-bg-inset color-border-primary gsc-replies rounded-b-md"><div class="gsc-reply"><div class="gsc-tl-line"></div><div class="flex py-2 px-4 "><div class="gsc-reply-author-avatar"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/xuexiaowengh" class="flex items-center"><img class="rounded-full" src="./64528302" width="30" height="30" alt="@xuexiaowengh"></a></div><div class="w-full min-w-0 ml-2"><div class="gsc-reply-header"><div class="gsc-reply-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/xuexiaowengh" class="flex items-center"><span class="link-primary font-semibold">xuexiaowengh</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3760164" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2022年9月29日 GMT+8 16:12" datetime="2022-09-29T08:12:56Z">9 月 29 日</time></a></div><div class="flex"><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item popover-only"><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover bottom  right"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details></div></div><div dir="auto" class="markdown gsc-reply-content "><p dir="auto">dp[n - 1][max_k][0] 包含了 dp[n - 1][max_k-1][0]的情况</p></div><div class="gsc-reply-reactions"><div class="gsc-direct-reaction-buttons"><button class="gsc-direct-reaction-button gsc-social-reaction-summary-item  cursor-not-allowed" disabled="" aria-label="你必须登录才能添加反应。" title="你必须登录才能添加反应。"><span class="gsc-direct-reaction-button-emoji">👍</span><span class="gsc-social-reaction-summary-item-count" title="2 人表示 +1">2</span></button></div></div></div></div></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/yxw007" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./9338717" width="30" height="30" alt="@yxw007"><span class="link-primary font-semibold">yxw007</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3570313" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2022年8月31日 GMT+8 11:28" datetime="2022-08-31T03:28:10Z">8 月 31 日</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">121 题，价格是[3, 2, 6, 5, 0, 3] 为什么最大值是4，不是7？<br>
第2天买入，第3天卖出  赚6-2=4，第5天买入  第6天卖出  赚：3-0=3</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/yxw007" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./9338717" width="30" height="30" alt="@yxw007"><span class="link-primary font-semibold">yxw007</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3570314" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2022年9月1日 GMT+8 10:27" datetime="2022-09-01T02:27:20Z">9 月 1 日</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">注意 k 的限制，在选择 buy 的时候相当于开启了一次交易，那么对于昨天来说，交易次数的上限 k 应该减小 1。<br>
东哥这句没搞懂，为啥是-1呀</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/yxw007" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./9338717" width="30" height="30" alt="@yxw007"><span class="link-primary font-semibold">yxw007</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3570315" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2022年9月2日 GMT+8 10:53" datetime="2022-09-02T02:53:24Z">9 月 2 日</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">123题，交易次数: 1次购买 和 一次卖出 算一次交易<br>
dp[i][k][0] = Math.max(dp[i-1][k][0],dp[i-1][k][1] + prices[i]);<br>
为什么是dp[i-1][k][1]  而不是dp[i-1][k-1][1]???  原因：结束交易，交易次数未减，开启一次新交易才算交易次数减小1次<br>
dp[i][k][1] = Math.max(dp[i-1][k][1],dp[i-1][k-1][0] - prices[i]);<br>
总算明白了~</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">3 条回复</span></div></div><div class="color-bg-inset color-border-primary gsc-replies rounded-b-md"><div class="gsc-reply"><div class="gsc-tl-line"></div><div class="flex py-2 px-4 "><div class="gsc-reply-author-avatar"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/sophiezxf" class="flex items-center"><img class="rounded-full" src="./11033863" width="30" height="30" alt="@sophiezxf"></a></div><div class="w-full min-w-0 ml-2"><div class="gsc-reply-header"><div class="gsc-reply-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/sophiezxf" class="flex items-center"><span class="link-primary font-semibold">sophiezxf</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3632434" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2022年9月13日 GMT+8 15:09" datetime="2022-09-13T07:09:03Z">9 月 13 日</time></a></div><div class="flex"><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item popover-only"><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover bottom  right"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details></div></div><div dir="auto" class="markdown gsc-reply-content "><p dir="auto">文中说“修正：以前我以为在 sell 的时候给 k 减小 1 和在 buy 的时候给 k 减小 1 是等效的，但细心的读者向我提出质疑，经过深入思考我发现前者确实是错误的，因为交易是从 buy 开始，如果 buy 的选择不改变交易次数 k 的话，会出现交易次数超出限制的的错误。”</p>
<p dir="auto">那如果说是在buy的时候要k-1，那为什么123题里面，base case里面是“dp[i][k][1] = -prices[i];”？这个地方是而不是dp[i][k - 1][1]？？？<br>
既然都-prices[i]说明开启一次新的交易了，那么k肯定要-1啊，为什么这里basecase里面是k呢？</p></div><div class="gsc-reply-reactions"><div class="gsc-direct-reaction-buttons"></div></div></div></div></div><div class="gsc-reply"><div class="gsc-tl-line"></div><div class="flex py-2 px-4 "><div class="gsc-reply-author-avatar"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/sophiezxf" class="flex items-center"><img class="rounded-full" src="./11033863" width="30" height="30" alt="@sophiezxf"></a></div><div class="w-full min-w-0 ml-2"><div class="gsc-reply-header"><div class="gsc-reply-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/sophiezxf" class="flex items-center"><span class="link-primary font-semibold">sophiezxf</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3632448" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2022年9月13日 GMT+8 15:11" datetime="2022-09-13T07:11:54Z">9 月 13 日</time></a></div><div class="flex"><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item popover-only"><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover bottom  right"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details></div></div><div dir="auto" class="markdown gsc-reply-content "><p dir="auto">base case里，dp[i][k][1] = -prices[i]说明是在i=0的时候开启一次新的交易(买入)，所以-price[0]了，所以i=0的时候开启了交易那么k就应该是k-1啊，死活想不明白</p></div><div class="gsc-reply-reactions"><div class="gsc-direct-reaction-buttons"></div></div></div></div></div><div class="gsc-reply"><div class="gsc-tl-line"></div><div class="flex py-2 px-4 "><div class="gsc-reply-author-avatar"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/yxw007" class="flex items-center"><img class="rounded-full" src="./9338717" width="30" height="30" alt="@yxw007"></a></div><div class="w-full min-w-0 ml-2"><div class="gsc-reply-header"><div class="gsc-reply-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/yxw007" class="flex items-center"><span class="link-primary font-semibold">yxw007</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3632587" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2022年9月13日 GMT+8 15:30" datetime="2022-09-13T07:30:13Z">9 月 13 日</time></a></div><div class="flex"><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item popover-only"><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover bottom  right"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details></div></div><div dir="auto" class="markdown gsc-reply-content "><div class="highlight highlight-source-js notranslate position-relative" dir="auto" data-snippet-clipboard-copy-content="/**
 * ! 交易次数: 1次购买 和 一次卖出 算一次交易
 * ! 为什么是dp[i-1][k][1]  而不是dp[i-1][k-1][1]???  原因：结束交易，交易次数未减，开启一次新交易才算交易次数减小1次
 * dp[i][k][0] = Math.max(dp[i-1][k][0],dp[i-1][k][1] + prices[i]);  
 * dp[i][k][1] = Math.max(dp[i-1][k][1],dp[i-1][k-1][0] - prices[i]); 
 * @param {number[]} prices
 * @return {number}
 */
var maxProfit2 = function (prices) {
	let n = prices.length;
	let K = 2;
	let dp = Array(n).fill(0).map(() =&gt; Array(K + 1).fill(0).map(() =&gt; Array(2).fill(0)))
	for (let i = 0; i &lt; n; i++) {
		//! 说明：k取值范围[1,K-1], 如果k=0 无交易次数，使用默认值全0，直接可跳过
		for (let k = K; k &gt;= 1; k--) {
			if (i - 1 === -1) {
				//base case
				dp[i][k][0] = 0;
				dp[i][k][1] = -prices[i];
				continue;
			}
			dp[i][k][0] = Math.max(dp[i - 1][k][0], dp[i - 1][k][1] + prices[i]);
			dp[i][k][1] = Math.max(dp[i - 1][k][1], dp[i - 1][k - 1][0] - prices[i]);
		}
	}

	return dp[n - 1][K][0];
}"><pre><span class="pl-c">/**</span>
<span class="pl-c"> * ! 交易次数: 1次购买 和 一次卖出 算一次交易</span>
<span class="pl-c"> * ! 为什么是dp[i-1][k][1]  而不是dp[i-1][k-1][1]???  原因：结束交易，交易次数未减，开启一次新交易才算交易次数减小1次</span>
<span class="pl-c"> * dp[i][k][0] = Math.max(dp[i-1][k][0],dp[i-1][k][1] + prices[i]);  </span>
<span class="pl-c"> * dp[i][k][1] = Math.max(dp[i-1][k][1],dp[i-1][k-1][0] - prices[i]); </span>
<span class="pl-c"> * <span class="pl-k">@param</span> {<span class="pl-smi">number[]</span>} prices</span>
<span class="pl-c"> * <span class="pl-k">@return</span> {<span class="pl-smi">number</span>}</span>
<span class="pl-c"> */</span>
<span class="pl-k">var</span> <span class="pl-en">maxProfit2</span> <span class="pl-c1">=</span> <span class="pl-k">function</span> <span class="pl-kos">(</span><span class="pl-s1">prices</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
	<span class="pl-k">let</span> <span class="pl-s1">n</span> <span class="pl-c1">=</span> <span class="pl-s1">prices</span><span class="pl-kos">.</span><span class="pl-c1">length</span><span class="pl-kos">;</span>
	<span class="pl-k">let</span> <span class="pl-v">K</span> <span class="pl-c1">=</span> <span class="pl-c1">2</span><span class="pl-kos">;</span>
	<span class="pl-k">let</span> <span class="pl-s1">dp</span> <span class="pl-c1">=</span> <span class="pl-v">Array</span><span class="pl-kos">(</span><span class="pl-s1">n</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">fill</span><span class="pl-kos">(</span><span class="pl-c1">0</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">map</span><span class="pl-kos">(</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c1">=&gt;</span> <span class="pl-v">Array</span><span class="pl-kos">(</span><span class="pl-v">K</span> <span class="pl-c1">+</span> <span class="pl-c1">1</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">fill</span><span class="pl-kos">(</span><span class="pl-c1">0</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">map</span><span class="pl-kos">(</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-c1">=&gt;</span> <span class="pl-v">Array</span><span class="pl-kos">(</span><span class="pl-c1">2</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">fill</span><span class="pl-kos">(</span><span class="pl-c1">0</span><span class="pl-kos">)</span><span class="pl-kos">)</span><span class="pl-kos">)</span>
	<span class="pl-k">for</span> <span class="pl-kos">(</span><span class="pl-k">let</span> <span class="pl-s1">i</span> <span class="pl-c1">=</span> <span class="pl-c1">0</span><span class="pl-kos">;</span> <span class="pl-s1">i</span> <span class="pl-c1">&lt;</span> <span class="pl-s1">n</span><span class="pl-kos">;</span> <span class="pl-s1">i</span><span class="pl-c1">++</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
		<span class="pl-c">//! 说明：k取值范围[1,K-1], 如果k=0 无交易次数，使用默认值全0，直接可跳过</span>
		<span class="pl-k">for</span> <span class="pl-kos">(</span><span class="pl-k">let</span> <span class="pl-s1">k</span> <span class="pl-c1">=</span> <span class="pl-v">K</span><span class="pl-kos">;</span> <span class="pl-s1">k</span> <span class="pl-c1">&gt;=</span> <span class="pl-c1">1</span><span class="pl-kos">;</span> <span class="pl-s1">k</span><span class="pl-c1">--</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
			<span class="pl-k">if</span> <span class="pl-kos">(</span><span class="pl-s1">i</span> <span class="pl-c1">-</span> <span class="pl-c1">1</span> <span class="pl-c1">===</span> <span class="pl-c1">-</span><span class="pl-c1">1</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
				<span class="pl-c">//base case</span>
				<span class="pl-s1">dp</span><span class="pl-kos">[</span><span class="pl-s1">i</span><span class="pl-kos">]</span><span class="pl-kos">[</span><span class="pl-s1">k</span><span class="pl-kos">]</span><span class="pl-kos">[</span><span class="pl-c1">0</span><span class="pl-kos">]</span> <span class="pl-c1">=</span> <span class="pl-c1">0</span><span class="pl-kos">;</span>
				<span class="pl-s1">dp</span><span class="pl-kos">[</span><span class="pl-s1">i</span><span class="pl-kos">]</span><span class="pl-kos">[</span><span class="pl-s1">k</span><span class="pl-kos">]</span><span class="pl-kos">[</span><span class="pl-c1">1</span><span class="pl-kos">]</span> <span class="pl-c1">=</span> <span class="pl-c1">-</span><span class="pl-s1">prices</span><span class="pl-kos">[</span><span class="pl-s1">i</span><span class="pl-kos">]</span><span class="pl-kos">;</span>
				<span class="pl-k">continue</span><span class="pl-kos">;</span>
			<span class="pl-kos">}</span>
			<span class="pl-s1">dp</span><span class="pl-kos">[</span><span class="pl-s1">i</span><span class="pl-kos">]</span><span class="pl-kos">[</span><span class="pl-s1">k</span><span class="pl-kos">]</span><span class="pl-kos">[</span><span class="pl-c1">0</span><span class="pl-kos">]</span> <span class="pl-c1">=</span> <span class="pl-v">Math</span><span class="pl-kos">.</span><span class="pl-en">max</span><span class="pl-kos">(</span><span class="pl-s1">dp</span><span class="pl-kos">[</span><span class="pl-s1">i</span> <span class="pl-c1">-</span> <span class="pl-c1">1</span><span class="pl-kos">]</span><span class="pl-kos">[</span><span class="pl-s1">k</span><span class="pl-kos">]</span><span class="pl-kos">[</span><span class="pl-c1">0</span><span class="pl-kos">]</span><span class="pl-kos">,</span> <span class="pl-s1">dp</span><span class="pl-kos">[</span><span class="pl-s1">i</span> <span class="pl-c1">-</span> <span class="pl-c1">1</span><span class="pl-kos">]</span><span class="pl-kos">[</span><span class="pl-s1">k</span><span class="pl-kos">]</span><span class="pl-kos">[</span><span class="pl-c1">1</span><span class="pl-kos">]</span> <span class="pl-c1">+</span> <span class="pl-s1">prices</span><span class="pl-kos">[</span><span class="pl-s1">i</span><span class="pl-kos">]</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
			<span class="pl-s1">dp</span><span class="pl-kos">[</span><span class="pl-s1">i</span><span class="pl-kos">]</span><span class="pl-kos">[</span><span class="pl-s1">k</span><span class="pl-kos">]</span><span class="pl-kos">[</span><span class="pl-c1">1</span><span class="pl-kos">]</span> <span class="pl-c1">=</span> <span class="pl-v">Math</span><span class="pl-kos">.</span><span class="pl-en">max</span><span class="pl-kos">(</span><span class="pl-s1">dp</span><span class="pl-kos">[</span><span class="pl-s1">i</span> <span class="pl-c1">-</span> <span class="pl-c1">1</span><span class="pl-kos">]</span><span class="pl-kos">[</span><span class="pl-s1">k</span><span class="pl-kos">]</span><span class="pl-kos">[</span><span class="pl-c1">1</span><span class="pl-kos">]</span><span class="pl-kos">,</span> <span class="pl-s1">dp</span><span class="pl-kos">[</span><span class="pl-s1">i</span> <span class="pl-c1">-</span> <span class="pl-c1">1</span><span class="pl-kos">]</span><span class="pl-kos">[</span><span class="pl-s1">k</span> <span class="pl-c1">-</span> <span class="pl-c1">1</span><span class="pl-kos">]</span><span class="pl-kos">[</span><span class="pl-c1">0</span><span class="pl-kos">]</span> <span class="pl-c1">-</span> <span class="pl-s1">prices</span><span class="pl-kos">[</span><span class="pl-s1">i</span><span class="pl-kos">]</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
		<span class="pl-kos">}</span>
	<span class="pl-kos">}</span>

	<span class="pl-k">return</span> <span class="pl-s1">dp</span><span class="pl-kos">[</span><span class="pl-s1">n</span> <span class="pl-c1">-</span> <span class="pl-c1">1</span><span class="pl-kos">]</span><span class="pl-kos">[</span><span class="pl-v">K</span><span class="pl-kos">]</span><span class="pl-kos">[</span><span class="pl-c1">0</span><span class="pl-kos">]</span><span class="pl-kos">;</span>
<span class="pl-kos">}</span></pre><div class="zeroclipboard-container position-absolute right-0 top-0">
  <button aria-label="Copy" class="ClipboardButton btn js-clipboard-copy m-2 p-0 tooltipped-no-delay" data-copy-feedback="Copied!" tabindex="0" role="button">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon m-2">
      <path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path>
    </svg>
    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" height="16" width="16" class="octicon octicon-check js-clipboard-check-icon color-text-success d-none m-2">
      <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
    </svg>
  </button>
</div></div>
<p dir="auto">放了方便理解，k是从大往小遍历的，提供这段代码，希望能帮到你</p></div><div class="gsc-reply-reactions"><div class="gsc-direct-reaction-buttons"></div></div></div></div></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/yonggui-yan" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./68081216" width="30" height="30" alt="@yonggui-yan"><span class="link-primary font-semibold">yonggui-yan</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3631572" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2022年9月13日 GMT+8 12:13" datetime="2022-09-13T04:13:07Z">9 月 13 日</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">滴滴滴，打卡</p>
<p dir="auto">dp[i][k][0] = max(dp[i-1][k][0],     dp[i-1][k][1] + prices[i])<br>
dp[i][k][1] = max(dp[i-1][k][1],    dp[i-1][k-1][0] - prices[i])</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/LebronHarden1" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./88467225" width="30" height="30" alt="@LebronHarden1"><span class="link-primary font-semibold">LebronHarden1</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3666753" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2022年9月17日 GMT+8 11:21" datetime="2022-09-17T03:21:54Z">9 月 17 日</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">总结就是一句话:穷举+紧盯dp数组的定义+边界处理(即使是边界处理也是按照定义去进行解释!)---&gt;返回结果甚至都是根据定义去进行返回.</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/muum641651" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./52918024" width="30" height="30" alt="@muum641651"><span class="link-primary font-semibold">muum641651</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3672417" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2022年9月18日 GMT+8 10:00" datetime="2022-09-18T02:00:44Z">9 月 18 日</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">归纳的太好了！！！以前分开写的时候，每道题都要想半天，没想到居然是一个思路，真是降维打击啊！！！</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/c690554125" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./13865568" width="30" height="30" alt="@c690554125"><span class="link-primary font-semibold">c690554125</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3814912" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2022年10月6日 GMT+8 22:07" datetime="2022-10-06T14:07:39Z">10 月 6 日</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0] - prices[i])<br>
这个的max中第二个的解释，今天持有股票，可能是今天才买的，所以最大限制次数k-1，文章里写的怎么自大交易次数限制还是k？应该是k-1吧。</p>
<blockquote>
<p dir="auto">2、我昨天本没有持有，且截至昨天最大交易次数限制为 k - 1；但今天我选择 buy，所以今天我就持有股票了，最大交易次数限制为 k。</p>
</blockquote></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">1 条回复</span></div></div><div class="color-bg-inset color-border-primary gsc-replies rounded-b-md"><div class="gsc-reply"><div class="gsc-tl-line"></div><div class="flex py-2 px-4 "><div class="gsc-reply-author-avatar"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/c690554125" class="flex items-center"><img class="rounded-full" src="./13865568" width="30" height="30" alt="@c690554125"></a></div><div class="w-full min-w-0 ml-2"><div class="gsc-reply-header"><div class="gsc-reply-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/c690554125" class="flex items-center"><span class="link-primary font-semibold">c690554125</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3818975" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2022年10月7日 GMT+8 09:25" datetime="2022-10-07T01:25:29Z">10 月 7 日</time></a></div><div class="flex"><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item popover-only"><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover bottom  right"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details></div></div><div dir="auto" class="markdown gsc-reply-content "><p dir="auto">看了一圈评论，明白了。这个解释我觉得可以再啰嗦一点。</p>
<blockquote>
<p dir="auto">我昨天本没有持有，但今天准备buy一次，那截止到昨天为止购买次数最多只有k-1次了，因为我要给今天的buy预留一次购买机会，今天买完，凑满最大购买次数k。</p>
</blockquote></div><div class="gsc-reply-reactions"><div class="gsc-direct-reaction-buttons"></div></div></div></div></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/kongyan66" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./68680103" width="30" height="30" alt="@kongyan66"><span class="link-primary font-semibold">kongyan66</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3883224" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2022年10月15日 GMT+8 10:26" datetime="2022-10-15T02:26:46Z">24 天前</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">123.买卖股票的最佳时机 III]  python复写一遍不能全部AC<br>
prices = [3,3,5,0,0,3,1,4]  这个例子总过不了</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">1 条回复</span></div></div><div class="color-bg-inset color-border-primary gsc-replies rounded-b-md"><div class="gsc-reply"><div class="gsc-tl-line"></div><div class="flex py-2 px-4 "><div class="gsc-reply-author-avatar"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/zhaoxing-zstar" class="flex items-center"><img class="rounded-full" src="./60384317" width="30" height="30" alt="@zhaoxing-zstar"></a></div><div class="w-full min-w-0 ml-2"><div class="gsc-reply-header"><div class="gsc-reply-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/zhaoxing-zstar" class="flex items-center"><span class="link-primary font-semibold">zhaoxing-zstar</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-4061958" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2022年11月5日 GMT+8 11:54" datetime="2022-11-05T03:54:40Z">3 天前</time></a></div><div class="flex"><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item popover-only"><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover bottom  right"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details></div></div><div dir="auto" class="markdown gsc-reply-content "><p dir="auto">应该没问题</p>
<div class="highlight highlight-source-python notranslate position-relative" dir="auto" data-snippet-clipboard-copy-content="class Solution:
    def maxProfit(self, prices: List[int]) -&gt; int:
        n = len(prices)
        dp = [[[0]*2 for _ in range(2+1)] for _ in range(n)]
        for i in range(n):
            for k in range(2,0,-1):
                if i==0:
                    dp[i][k][0] = 0
                    dp[i][k][1] = -prices[i]
                    continue
                dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])
                dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])

        return dp[n-1][2][0]
"><pre><span class="pl-k">class</span> <span class="pl-v">Solution</span>:
    <span class="pl-k">def</span> <span class="pl-en">maxProfit</span>(<span class="pl-s1">self</span>, <span class="pl-s1">prices</span>: <span class="pl-v">List</span>[<span class="pl-s1">int</span>]) <span class="pl-c1">-&gt;</span> <span class="pl-s1">int</span>:
        <span class="pl-s1">n</span> <span class="pl-c1">=</span> <span class="pl-en">len</span>(<span class="pl-s1">prices</span>)
        <span class="pl-s1">dp</span> <span class="pl-c1">=</span> [[[<span class="pl-c1">0</span>]<span class="pl-c1">*</span><span class="pl-c1">2</span> <span class="pl-k">for</span> <span class="pl-s1">_</span> <span class="pl-c1">in</span> <span class="pl-en">range</span>(<span class="pl-c1">2</span><span class="pl-c1">+</span><span class="pl-c1">1</span>)] <span class="pl-k">for</span> <span class="pl-s1">_</span> <span class="pl-c1">in</span> <span class="pl-en">range</span>(<span class="pl-s1">n</span>)]
        <span class="pl-k">for</span> <span class="pl-s1">i</span> <span class="pl-c1">in</span> <span class="pl-en">range</span>(<span class="pl-s1">n</span>):
            <span class="pl-k">for</span> <span class="pl-s1">k</span> <span class="pl-c1">in</span> <span class="pl-en">range</span>(<span class="pl-c1">2</span>,<span class="pl-c1">0</span>,<span class="pl-c1">-</span><span class="pl-c1">1</span>):
                <span class="pl-k">if</span> <span class="pl-s1">i</span><span class="pl-c1">==</span><span class="pl-c1">0</span>:
                    <span class="pl-s1">dp</span>[<span class="pl-s1">i</span>][<span class="pl-s1">k</span>][<span class="pl-c1">0</span>] <span class="pl-c1">=</span> <span class="pl-c1">0</span>
                    <span class="pl-s1">dp</span>[<span class="pl-s1">i</span>][<span class="pl-s1">k</span>][<span class="pl-c1">1</span>] <span class="pl-c1">=</span> <span class="pl-c1">-</span><span class="pl-s1">prices</span>[<span class="pl-s1">i</span>]
                    <span class="pl-k">continue</span>
                <span class="pl-s1">dp</span>[<span class="pl-s1">i</span>][<span class="pl-s1">k</span>][<span class="pl-c1">0</span>] <span class="pl-c1">=</span> <span class="pl-en">max</span>(<span class="pl-s1">dp</span>[<span class="pl-s1">i</span><span class="pl-c1">-</span><span class="pl-c1">1</span>][<span class="pl-s1">k</span>][<span class="pl-c1">0</span>], <span class="pl-s1">dp</span>[<span class="pl-s1">i</span><span class="pl-c1">-</span><span class="pl-c1">1</span>][<span class="pl-s1">k</span>][<span class="pl-c1">1</span>]<span class="pl-c1">+</span><span class="pl-s1">prices</span>[<span class="pl-s1">i</span>])
                <span class="pl-s1">dp</span>[<span class="pl-s1">i</span>][<span class="pl-s1">k</span>][<span class="pl-c1">1</span>] <span class="pl-c1">=</span> <span class="pl-en">max</span>(<span class="pl-s1">dp</span>[<span class="pl-s1">i</span><span class="pl-c1">-</span><span class="pl-c1">1</span>][<span class="pl-s1">k</span>][<span class="pl-c1">1</span>], <span class="pl-s1">dp</span>[<span class="pl-s1">i</span><span class="pl-c1">-</span><span class="pl-c1">1</span>][<span class="pl-s1">k</span><span class="pl-c1">-</span><span class="pl-c1">1</span>][<span class="pl-c1">0</span>]<span class="pl-c1">-</span><span class="pl-s1">prices</span>[<span class="pl-s1">i</span>])

        <span class="pl-k">return</span> <span class="pl-s1">dp</span>[<span class="pl-s1">n</span><span class="pl-c1">-</span><span class="pl-c1">1</span>][<span class="pl-c1">2</span>][<span class="pl-c1">0</span>]</pre><div class="zeroclipboard-container position-absolute right-0 top-0">
  <button aria-label="Copy" class="ClipboardButton btn js-clipboard-copy m-2 p-0 tooltipped-no-delay" data-copy-feedback="Copied!" tabindex="0" role="button">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon m-2">
      <path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path>
    </svg>
    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" height="16" width="16" class="octicon octicon-check js-clipboard-check-icon color-text-success d-none m-2">
      <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
    </svg>
  </button>
</div></div></div><div class="gsc-reply-reactions"><div class="gsc-direct-reaction-buttons"></div></div></div></div></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/AboveParadise" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./89033914" width="30" height="30" alt="@AboveParadise"><span class="link-primary font-semibold">AboveParadise</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-3897334" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2022年10月17日 GMT+8 22:48" datetime="2022-10-17T14:48:24Z">22 天前</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">想请问一下k可以是任意数的那道题（买卖股票的最佳时机4）为什么设置base case时，dp[0][k_max][1] = -prices[0] 呢，即当前持有股票的情况下为什么还能有k_max次交易机会呢，就是这个点一直没想明白</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">0 条回复</span></div></div></div></div><div class="gsc-comment"><div class="color-bg-primary w-full min-w-0 rounded-md border color-border-primary"><div class="gsc-comment-header"><div class="gsc-comment-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/tdgeyyx" class="gsc-comment-author-avatar"><img class="mr-2 rounded-full" src="./99620259" width="30" height="30" alt="@tdgeyyx"><span class="link-primary font-semibold">tdgeyyx</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-4076308" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2022年11月7日 GMT+8 21:14" datetime="2022-11-07T13:14:13Z">昨天</time></a></div><div class="flex"></div></div><div dir="auto" class="markdown gsc-comment-content"><p dir="auto">第四题把手续费写前面，最后返回Math.max(dp[n-1][0],dp[n-1][1]);是可以通过的，手续费可能高于股票价格？<br>
class Solution {<br>
public int maxProfit(int[] prices, int fee) {<br>
int n=prices.length;<br>
int[][]dp=new int[n][2];<br>
for(int i=0;i&lt;n;i++){<br>
if(i==0){<br>
dp[i][0]=0;<br>
dp[i][1]=-prices[i];<br>
continue;<br>
}<br>
dp[i][0]=Math.max(dp[i-1][0],dp[i-1][1]+prices[i]-fee);<br>
dp[i][1]=Math.max(dp[i-1][1],dp[i-1][0]-prices[i]);<br>
}<br>
return Math.max(dp[n-1][0],dp[n-1][1]);<br>
}<br>
}</p></div><div class="gsc-comment-footer"><div class="gsc-comment-reactions"><button type="button" class="gsc-upvote-button gsc-social-reaction-summary-item " disabled="" aria-label="你必须登录才能投票。" title="你必须登录才能投票。"><svg aria-hidden="true" focusable="false" role="img" class="gsc-direct-reaction-button-emoji" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z"></path></svg><span class="gsc-social-reaction-summary-item-count" title="1 个赞同">1</span></button><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item "><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover top  left"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details><div class="gsc-direct-reaction-buttons"></div></div><div class="gsc-comment-replies-count"><span class="color-text-tertiary text-xs">1 条回复</span></div></div><div class="color-bg-inset color-border-primary gsc-replies rounded-b-md"><div class="gsc-reply"><div class="gsc-tl-line"></div><div class="flex py-2 px-4 "><div class="gsc-reply-author-avatar"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/tdgeyyx" class="flex items-center"><img class="rounded-full" src="./99620259" width="30" height="30" alt="@tdgeyyx"></a></div><div class="w-full min-w-0 ml-2"><div class="gsc-reply-header"><div class="gsc-reply-author"><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/tdgeyyx" class="flex items-center"><span class="link-primary font-semibold">tdgeyyx</span></a><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/labuladong/fucking-algorithm/discussions/1012#discussioncomment-4076367" class="link-secondary ml-2"><time class="whitespace-nowrap" title="2022年11月7日 GMT+8 21:19" datetime="2022-11-07T13:19:10Z">昨天</time></a></div><div class="flex"><details class="gsc-reactions-menu"><summary aria-label="添加反应" class="link-secondary gsc-reactions-button gsc-social-reaction-summary-item popover-only"><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-smiley" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg></summary><div class="color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover bottom  right"><p class="m-2"><a href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F" class="color-text-link" target="_top">登录</a>以添加反应。</p><div class="color-border-primary my-2 border-t"></div><div class="m-2"><button aria-label="表示 +1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👍</span></button><button aria-label="表示 -1" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👎</span></button><button aria-label="表示 大笑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😄</span></button><button aria-label="表示 好耶" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🎉</span></button><button aria-label="表示 疑惑" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">😕</span></button><button aria-label="表示 爱了" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">❤️</span></button><button aria-label="表示 上天" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">🚀</span></button><button aria-label="表示 看看" type="button" class="gsc-emoji-button no-token" disabled=""><span class="gsc-emoji">👀</span></button></div></div></details></div></div><div dir="auto" class="markdown gsc-reply-content "><div class="snippet-clipboard-content notranslate position-relative" data-snippet-clipboard-copy-content="class Solution {
    public int maxProfit(int[] prices, int fee) {
        int n=prices.length;
        int[][]dp=new int[n][2];
        for(int i=0;i&lt;n;i++){
            if(i==0){
                dp[i][0]=0;
                dp[i][1]=-prices[i];
                continue;
            }
            dp[i][0]=Math.max(dp[i-1][0],dp[i-1][1]+prices[i]-fee);
            dp[i][1]=Math.max(dp[i-1][1],dp[i-1][0]-prices[i]);
        }
        return Math.max(dp[n-1][0],dp[n-1][1]);
    }
}"><pre class="notranslate"><code>class Solution {
    public int maxProfit(int[] prices, int fee) {
        int n=prices.length;
        int[][]dp=new int[n][2];
        for(int i=0;i&lt;n;i++){
            if(i==0){
                dp[i][0]=0;
                dp[i][1]=-prices[i];
                continue;
            }
            dp[i][0]=Math.max(dp[i-1][0],dp[i-1][1]+prices[i]-fee);
            dp[i][1]=Math.max(dp[i-1][1],dp[i-1][0]-prices[i]);
        }
        return Math.max(dp[n-1][0],dp[n-1][1]);
    }
}
</code></pre><div class="zeroclipboard-container position-absolute right-0 top-0">
  <button aria-label="Copy" class="ClipboardButton btn js-clipboard-copy m-2 p-0 tooltipped-no-delay" data-copy-feedback="Copied!" tabindex="0" role="button">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon m-2">
      <path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path>
    </svg>
    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" height="16" width="16" class="octicon octicon-check js-clipboard-check-icon color-text-success d-none m-2">
      <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
    </svg>
  </button>
</div></div></div><div class="gsc-reply-reactions"><div class="gsc-direct-reaction-buttons"></div></div></div></div></div></div></div></div></div><form class="color-bg-primary color-border-primary gsc-comment-box  "><div class="color-bg-tertiary color-border-primary gsc-comment-box-tabs"><div class="mx-2 mb-[-1px] mt-2"><button class="border border-b-0 px-4 py-2 focus:outline-none color-text-primary color-bg-canvas color-border-primary rounded-t" type="button">输入</button><button class="ml-1 border border-b-0 px-4 py-2 focus:outline-none color-text-secondary border-transparent" type="button" tabindex="-1">预览</button></div><div class="gsc-comment-box-md-toolbar"><button class="gsc-toolbar-item" type="button" title="在编辑器中启用固定宽度（等宽）字体" tabindex="-1"><svg aria-hidden="true" focusable="false" role="img" class="octicon octicon-typography" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M6.21 8.5L4.574 3.594 2.857 8.5H6.21zm.5 1.5l.829 2.487a.75.75 0 001.423-.474L5.735 2.332a1.216 1.216 0 00-2.302-.018l-3.39 9.688a.75.75 0 001.415.496L2.332 10H6.71zm3.13-4.358C10.53 4.374 11.87 4 13 4c1.5 0 3 .939 3 2.601v5.649a.75.75 0 01-1.448.275C13.995 12.82 13.3 13 12.5 13c-.77 0-1.514-.231-2.078-.709-.577-.488-.922-1.199-.922-2.041 0-.694.265-1.411.887-1.944C11 7.78 11.88 7.5 13 7.5h1.5v-.899c0-.54-.5-1.101-1.5-1.101-.869 0-1.528.282-1.84.858a.75.75 0 11-1.32-.716zM14.5 9H13c-.881 0-1.375.22-1.637.444-.253.217-.363.5-.363.806 0 .408.155.697.39.896.249.21.63.354 1.11.354.732 0 1.26-.209 1.588-.449.35-.257.412-.495.412-.551V9z"></path></svg></button></div></div><div class="gsc-comment-box-main"><textarea class="form-control input-contrast gsc-comment-box-textarea " placeholder="登录以评论" disabled=""></textarea></div><div class="gsc-comment-box-bottom"><a class="link-secondary gsc-comment-box-markdown-hint" rel="nofollow noopener noreferrer" target="_blank" href="https://guides.github.com/features/mastering-markdown/"><svg aria-hidden="true" focusable="false" role="img" class="mr-1" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z"></path></svg>支持 Markdown</a><div class="gsc-comment-box-buttons"><a class="btn btn-primary inline-flex items-center ml-1 rounded-md border hover:no-underline" target="_top" href="https://giscus.app/api/oauth/authorize?redirect_uri=https%3A%2F%2Flabuladong.gitee.io%2Falgo%2F1%2F13%2F"><svg aria-hidden="true" focusable="false" role="img" class="mr-2" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg> GitHub 登录</a></div></div></form></div></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"origin":"https://labuladong.gitee.io/algo/1/13/","session":"","repo":"labuladong/fucking-algorithm","term":"","category":"comment","number":1012,"strict":false,"repoId":"MDEwOlJlcG9zaXRvcnkyNDE1NzYyNzA=","categoryId":"DIC_kwDODmYpTs4CQ1I4","description":"","reactionsEnabled":false,"emitMetadata":false,"inputPosition":"bottom","defaultCommentOrder":"oldest","theme":"light","originHost":"https://labuladong.gitee.io","backLink":"https://labuladong.gitee.io/algo/1/13/","__lang":"zh-CN","__namespaces":{"common":{"reactions":{"other":"{{count}} 个反应"},"comment":"评论","comments":{"other":"{{count}} 条评论"},"reply":"回复","replies":{"other":"{{count}}{{plus}} 条回复"},"upvotes":{"other":"{{count}} 个赞同"},"hiddenItems":{"other":"{{count}} 个隐藏项"},"genericError":"发生错误： {{message}}","loadMore":"加载更多","loading":"加载中","loadingComments":"正在加载评论……","loadingPreview":"正在加载预览……","poweredBy":"– 由 \u003ca\u003egiscus\u003c/a\u003e 驱动","oldest":"最旧","newest":"最新","showPreviousReplies":{"other":"显示 {{count}} 条更早的回复"},"seePreviousRepliesOnGitHub":{"other":"在 GitHub 上查看 {{count}} 条更早的回复"},"edited":"已编辑","thisCommentWasDeleted":"此评论已删除。","thisCommentWasMinimized":"此评论已被折叠。","thisCommentWasHidden":"此评论已被隐藏。","write":"输入","preview":"预览","enableFixedWidth":"在编辑器中启用固定宽度（等宽）字体","disableFixedWidth":"在编辑器中禁用固定宽度（等宽）字体","lastEditedAt":"最后编辑于 {{date}}","writeAComment":"写评论","signInToComment":"登录以评论","stylingWithMarkdownIsSupported":"支持 Markdown","cancel":"取消","signInWithGitHub":"GitHub 登录","writeAReply":"写回复","upvote":"赞同","youMustBeSignedInToUpvote":"你必须登录才能投票。","addReactions":"添加反应","pleaseWait":"请稍候……","pickYourReaction":"选择你的反应","addTheReaction":"表示 {{reaction}}","removeTheReaction":"取消表示 {{reaction}}","signInToAddYourReaction":"\u003ca\u003e登录\u003c/a\u003e以添加反应。","youMustBeSignedInToAddReactions":"你必须登录才能添加反应。","peopleReactedWith":{"other":"{{count}} 人表示 {{reaction}}"},"emoji":"emoji","nothingToPreview":"没有可以预览的","THUMBS_UP":"+1","THUMBS_DOWN":"-1","LAUGH":"大笑","HOORAY":"好耶","CONFUSED":"疑惑","HEART":"爱了","ROCKET":"上天","EYES":"看看","COLLABORATOR":"合作者","CONTRIBUTOR":"贡献者","FIRST_TIMER":"初次贡献者","FIRST_TIME_CONTRIBUTOR":"初次贡献者","MANNEQUIN":"假人","MEMBER":"成员","NONE":"无","OWNER":"所有者","APP":"App"}}},"__N_SSP":true},"page":"/widget","query":{"origin":"https://labuladong.gitee.io/algo/1/13/","backLink":"https://labuladong.gitee.io/algo/1/13/","session":"","categoryId":"DIC_kwDODmYpTs4CQ1I4","category":"comment","reactionsEnabled":"0","theme":"light","repoId":"MDEwOlJlcG9zaXRvcnkyNDE1NzYyNzA=","inputPosition":"bottom","description":"","repo":"labuladong/fucking-algorithm","strict":"0","number":"1012","emitMetadata":"0"},"buildId":"Ea_al58KISvxk5cuMvenL","isFallback":false,"gssp":true,"locale":"zh-CN","locales":["en","ar","de","es","fr","gsw","id","it","ja","ko","nl","pl","pt","ro","ru","th","tr","vi","zh-CN","zh-Hans","zh-Hant","zh-TW"],"defaultLocale":"en","scriptLoader":[]}</script><audio controls="controls" style="display: none;"></audio><next-route-announcer><p aria-live="assertive" id="__next-route-announcer__" role="alert" style="border: 0px; clip: rect(0px, 0px, 0px, 0px); height: 1px; margin: -1px; overflow: hidden; padding: 0px; position: absolute; width: 1px; white-space: nowrap; overflow-wrap: normal;"></p></next-route-announcer></body><style type="text/css">#yddContainer{display:block;font-family:Microsoft YaHei;position:relative;width:100%;height:100%;top:-4px;left:-4px;font-size:12px;border:1px solid}#yddTop{display:block;height:22px}#yddTopBorderlr{display:block;position:static;height:17px;padding:2px 28px;line-height:17px;font-size:12px;color:#5079bb;font-weight:bold;border-style:none solid;border-width:1px}#yddTopBorderlr .ydd-sp{position:absolute;top:2px;height:0;overflow:hidden}.ydd-icon{left:5px;width:17px;padding:0px 0px 0px 0px;padding-top:17px;background-position:-16px -44px}.ydd-close{right:5px;width:16px;padding-top:16px;background-position:left -44px}#yddKeyTitle{float:left;text-decoration:none}#yddMiddle{display:block;margin-bottom:10px}.ydd-tabs{display:block;margin:5px 0;padding:0 5px;height:18px;border-bottom:1px solid}.ydd-tab{display:block;float:left;height:18px;margin:0 5px -1px 0;padding:0 4px;line-height:18px;border:1px solid;border-bottom:none}.ydd-trans-container{display:block;line-height:160%}.ydd-trans-container a{text-decoration:none;}#yddBottom{position:absolute;bottom:0;left:0;width:100%;height:22px;line-height:22px;overflow:hidden;background-position:left -22px}.ydd-padding010{padding:0 10px}#yddWrapper{color:#252525;z-index:10001;background:url(chrome-extension://eopjamdnofihpioajgfdikhhbobonhbb/ab20.png);}#yddContainer{background:#fff;border-color:#4b7598}#yddTopBorderlr{border-color:#f0f8fc}#yddWrapper .ydd-sp{background-image:url(chrome-extension://eopjamdnofihpioajgfdikhhbobonhbb/ydd-sprite.png)}#yddWrapper a,#yddWrapper a:hover,#yddWrapper a:visited{color:#50799b}#yddWrapper .ydd-tabs{color:#959595}.ydd-tabs,.ydd-tab{background:#fff;border-color:#d5e7f3}#yddBottom{color:#363636}#yddWrapper{min-width:250px;max-width:400px;}</style></html>